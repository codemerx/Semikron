@page "/telerik-tree-list"
@using SharedLibrary.Data

@inject Database db

<TelerikTreeList Data="@gridData"
                 IdField="TaskId"
                 ParentIdField="ParentId"
                 Pageable="true"
                 Sortable="true"
                 PageSize="7"
                 FilterMode="@TreeListFilterMode.FilterMenu">
    <TreeListColumns>
        <TreeListColumn Expandable="true" Field="TaskId" Title="Task ID" />
        <TreeListColumn Field="TaskName" Title="Task Name" />
        <TreeListColumn Field="Duration" Title="Duration"/>
        <TreeListColumn Field="Progress" Title="Progress"/>
        <TreeListColumn Field="Priority" Title="Priority"/>
    </TreeListColumns>
</TelerikTreeList>

@code {
    private List<TaskInfo> gridData { get; set; } = new List<TaskInfo>();

    protected override async Task OnInitializedAsync()
    {
        gridData = (await db.GetData()).TaskInfo;
    }
}
