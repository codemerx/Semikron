@page "/telerik-grid-hierarchy"
@using SharedLibrary.Data

@inject Database db;

<TelerikGrid Data="@gridData" Pageable="true" PageSize="15"
    Sortable="true" SortMode="@SortMode.Multiple" 
	FilterMode="Telerik.Blazor.GridFilterMode.FilterMenu"
	Groupable="true">

    <DetailTemplate>
        @{
            <TelerikGridHierarchyDetail PostId="@context.Id" />
        }
    </DetailTemplate>
    <GridColumns>
        <GridColumn Field="Id" Title="Id" />
        <GridColumn Field="UserId" Title="UserId" />
        <GridColumn Field="Title" Title="Title" />
    </GridColumns>
</TelerikGrid>


@code {
    private List<Post> gridData = new List<Post>();

    protected override async Task OnInitializedAsync()
    {
        gridData = (await db.GetData()).Posts;
    }
}
